import{_ as t,W as e,X as o,Z as s,$ as n,a0 as p,a1 as l,C as r}from"./framework-b2028a60.js";const i={},c=s("h1",{id:"修改mainview-xaml和mainview-xaml-cs这2个文件",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#修改mainview-xaml和mainview-xaml-cs这2个文件","aria-hidden":"true"},"#"),n(" 修改MainView.xaml和MainView.xaml.cs这2个文件")],-1),u={class:"hint-container warning"},k=s("p",{class:"hint-container-title"},"注意",-1),d={href:"https://vampirewal.gitee.io/",target:"_blank",rel:"noopener noreferrer"},m=l(`<h2 id="修改mainview-xaml" tabindex="-1"><a class="header-anchor" href="#修改mainview-xaml" aria-hidden="true">#</a> 修改MainView.xaml</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span><span class="token class-name">MainWindowBase</span>
    x<span class="token punctuation">:</span>Class<span class="token operator">=</span><span class="token string">&quot;test.MainWindow1&quot;</span>
    xmlns<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span>
    xmlns<span class="token punctuation">:</span>x<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span>
    xmlns<span class="token punctuation">:</span>d<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/expression/blend/2008&quot;</span>
    xmlns<span class="token punctuation">:</span>i<span class="token operator">=</span><span class="token string">&quot;http://schemas.microsoft.com/xaml/behaviors&quot;</span>
    xmlns<span class="token punctuation">:</span>mc<span class="token operator">=</span><span class="token string">&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;</span>
    xmlns<span class="token punctuation">:</span>vampirewal<span class="token operator">=</span><span class="token string">&quot;https://vampirewal.gitee.io/&quot;</span>
    x<span class="token punctuation">:</span>Name<span class="token operator">=</span><span class="token string">&quot;Main&quot;</span>
    Title<span class="token operator">=</span><span class="token string">&quot;{Binding Title}&quot;</span>
    Width<span class="token operator">=</span><span class="token string">&quot;800&quot;</span>
    Height<span class="token operator">=</span><span class="token string">&quot;450&quot;</span>
    Background<span class="token operator">=</span><span class="token string">&quot;#2F3437&quot;</span>
    BorderBrush<span class="token operator">=</span><span class="token string">&quot;#373C3F&quot;</span>
    CloseWindowCommand<span class="token operator">=</span><span class="token string">&quot;{Binding CloseWindowCommand}&quot;</span>
    CloseWindowCommandParameter<span class="token operator">=</span><span class="token string">&quot;{Binding ElementName=Main}&quot;</span>
    IsOpenWindowSize<span class="token operator">=</span><span class="token string">&quot;True&quot;</span>
    LeftMenuMaxWidth<span class="token operator">=</span><span class="token string">&quot;300&quot;</span>
    MainAreaHeight<span class="token operator">=</span><span class="token string">&quot;50&quot;</span>
    TitleForeground<span class="token operator">=</span><span class="token string">&quot;White&quot;</span>
    WindowsLoadedCommand<span class="token operator">=</span><span class="token string">&quot;{Binding TestAACommand}&quot;</span>
    mc<span class="token punctuation">:</span>Ignorable<span class="token operator">=</span><span class="token string">&quot;d&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>WindowBase<span class="token punctuation">.</span>Resources<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ResourceDictionary<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ResourceDictionary<span class="token punctuation">.</span>MergedDictionaries<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>ResourceDictionary<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token class-name">Style</span> x<span class="token punctuation">:</span>Key<span class="token operator">=</span><span class="token string">&quot;teststyle&quot;</span> TargetType<span class="token operator">=</span><span class="token string">&quot;TextBox&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span><span class="token class-name">Setter</span> Property<span class="token operator">=</span><span class="token string">&quot;Foreground&quot;</span> Value<span class="token operator">=</span><span class="token string">&quot;Red&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>Style<span class="token operator">&gt;</span>
                    
                <span class="token operator">&lt;</span><span class="token operator">/</span>ResourceDictionary<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>ResourceDictionary<span class="token punctuation">.</span>MergedDictionaries<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ResourceDictionary<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>WindowBase<span class="token punctuation">.</span>Resources<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>WindowBase<span class="token punctuation">.</span>TopCustomButtons<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">Button</span> Height<span class="token operator">=</span><span class="token string">&quot;40&quot;</span> Content<span class="token operator">=</span><span class="token string">&quot;我是顶部自定义按钮&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>WindowBase<span class="token punctuation">.</span>TopCustomButtons<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>WindowBase<span class="token punctuation">.</span>BottomCustomAreas<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">StackPanel</span> Orientation<span class="token operator">=</span><span class="token string">&quot;Horizontal&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">TextBlock</span> Text<span class="token operator">=</span><span class="token string">&quot;我是底部信息栏&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">TextBlock</span> Text<span class="token operator">=</span><span class="token string">&quot;{Binding Memory.CpuRate}&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>StackPanel<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>WindowBase<span class="token punctuation">.</span>BottomCustomAreas<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>MainWindowBase<span class="token punctuation">.</span>LeftContent<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">Border</span> Background<span class="token operator">=</span><span class="token string">&quot;Yellow&quot;</span> CornerRadius<span class="token operator">=</span><span class="token string">&quot;5&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>MainWindowBase<span class="token punctuation">.</span>LeftContent<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>MainWindowBase<span class="token punctuation">.</span>MainAreas<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">Button</span> Command<span class="token operator">=</span><span class="token string">&quot;{Binding TestCommand}&quot;</span> Content<span class="token operator">=</span><span class="token string">&quot;{Binding Notify.Name}&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>MainWindowBase<span class="token punctuation">.</span>MainAreas<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>MainWindowBase<span class="token punctuation">.</span>GridSplitterStyle<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">ControlTemplate</span> TargetType<span class="token operator">=</span><span class="token string">&quot;{x:Type GridSplitter}&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">Border</span>
                Margin<span class="token operator">=</span><span class="token string">&quot;1,3&quot;</span>
                Background<span class="token operator">=</span><span class="token string">&quot;Red&quot;</span>
                BorderBrush<span class="token operator">=</span><span class="token string">&quot;{TemplateBinding BorderBrush}&quot;</span>
                BorderThickness<span class="token operator">=</span><span class="token string">&quot;{TemplateBinding BorderThickness}&quot;</span>
                CornerRadius<span class="token operator">=</span><span class="token string">&quot;2&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ControlTemplate<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>MainWindowBase<span class="token punctuation">.</span>GridSplitterStyle<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Grid<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&lt;</span>vc<span class="token punctuation">:</span>FlowDesign <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span><span class="token class-name">TreeListView</span>
            x<span class="token punctuation">:</span>Name<span class="token operator">=</span><span class="token string">&quot;OrgList&quot;</span>
            Grid<span class="token punctuation">.</span>Row<span class="token operator">=</span><span class="token string">&quot;1&quot;</span>
            Margin<span class="token operator">=</span><span class="token string">&quot;5&quot;</span>
            Background<span class="token operator">=</span><span class="token string">&quot;#FFE9E9E9&quot;</span>
            ItemsSource<span class="token operator">=</span><span class="token string">&quot;{Binding UserList2.BindingTreeItems}&quot;</span>
            TreeBuilder<span class="token operator">=</span><span class="token string">&quot;{Binding UserList2}&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>TreeListView<span class="token punctuation">.</span>FirstColumnInfo<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span><span class="token class-name">CustromFirstColumn</span>
                    FirstColumnBindingPath<span class="token operator">=</span><span class="token string">&quot;UserName&quot;</span>
                    FirstColumnHeader<span class="token operator">=</span><span class="token string">&quot;名称&quot;</span>
                    HasCheckBox<span class="token operator">=</span><span class="token string">&quot;False&quot;</span>
                    IsReadOnly<span class="token operator">=</span><span class="token string">&quot;True&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>TreeListView<span class="token punctuation">.</span>FirstColumnInfo<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span>TreeListView<span class="token punctuation">.</span>ItemTemplate<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token class-name">HierarchicalDataTemplate</span> ItemsSource<span class="token operator">=</span><span class="token string">&quot;{Binding SubItems}&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>TreeListView<span class="token punctuation">.</span>ItemTemplate<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>TreeListView<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>vampirewal<span class="token punctuation">:</span><span class="token class-name">MaskDialogGrid</span>
            Title<span class="token operator">=</span><span class="token string">&quot;选择&quot;</span>
            Padding<span class="token operator">=</span><span class="token string">&quot;5,5,5,0&quot;</span>
            DialogBackground<span class="token operator">=</span><span class="token string">&quot;Gray&quot;</span>
            DialogHeight<span class="token operator">=</span><span class="token string">&quot;500&quot;</span>
            DialogWidth<span class="token operator">=</span><span class="token string">&quot;400&quot;</span>
            IsShowDialog<span class="token operator">=</span><span class="token string">&quot;True&quot;</span>
            MaskBackground<span class="token operator">=</span><span class="token string">&quot;Yellow&quot;</span>
            MaskOpacity<span class="token operator">=</span><span class="token string">&quot;0.5&quot;</span>
            TitleBackground<span class="token operator">=</span><span class="token string">&quot;Green&quot;</span>
            TitleForeground<span class="token operator">=</span><span class="token string">&quot;Red&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token class-name">Border</span> Height<span class="token operator">=</span><span class="token string">&quot;450&quot;</span> Background<span class="token operator">=</span><span class="token string">&quot;Red&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>MaskDialogGrid<span class="token operator">&gt;</span>

        
    <span class="token operator">&lt;</span><span class="token operator">/</span>Grid<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>vampirewal<span class="token punctuation">:</span>MainWindowBase<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改mainview-xaml-cs" tabindex="-1"><a class="header-anchor" href="#修改mainview-xaml-cs" aria-hidden="true">#</a> 修改MainView.xaml.cs</h2><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">VampirewalIoCRegister</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ViewKeys<span class="token punctuation">.</span>MainView<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span><span class="token comment">//将窗体以这个Token注册进IServiceCollection</span>
<span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">MainView</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">MainWindowBase</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MainView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> ViewModelKey <span class="token operator">=&gt;</span> ViewModelKeys<span class="token punctuation">.</span>MainViewModel<span class="token punctuation">;</span><span class="token comment">//当前窗体的ViewModel对应的Token</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function v(g,q){const a=r("ExternalLinkIcon");return e(),o("div",null,[c,s("div",u,[k,s("p",null,[n('需要在窗体的顶部引入 xmlns:vampirewal="'),s("a",d,[n("https://vampirewal.gitee.io/"),p(a)]),n('"')])]),m])}const w=t(i,[["render",v],["__file","Step3.html.vue"]]);export{w as default};
